hoval-gateway (2.6.0) stable; urgency=medium

  * Add watchdog for automatic reconnect when no data received
  * New [watchdog] config section with enabled/timeout options
  * Background thread monitors data reception, forces reconnect after timeout
  * Prevents script from hanging when Hoval device stops sending data

 -- Hoval Gateway Maintainers <noreply@github.com>  Tue, 28 Jan 2025 12:00:00 +0000

hoval-gateway (2.5.7) stable; urgency=medium

  * Fix Home Assistant 2025 MQTT discovery compatibility
  * Remove parentheses and special characters from topic names
  * HA now rejects discovery topics with (), [], {}, ', ", !, ?, #, + characters
  * Filter U16 frame terminator 0xFF02 (65282) - was showing as error_code value

 -- Hoval Gateway Maintainers <noreply@github.com>  Mon, 20 Jan 2025 01:00:00 +0000

hoval-gateway (2.5.6) stable; urgency=medium

  * Fix ruff lint errors (F541: f-string without placeholders)
  * Remove unnecessary f-prefix from static debug strings

 -- Hoval Gateway Maintainers <noreply@github.com>  Sat, 04 Jan 2025 13:00:00 +0000

hoval-gateway (2.5.5) stable; urgency=medium

  * Fix -25.4°C false reading (0xFF02 frame terminator misinterpreted as S16)
  * Extend S16 error code filter from 0xFF00-0xFF01 to 0xFF00-0xFF02
  * Affects indoor sensors (Abluft, Zuluft) where temps below -25°C are unrealistic

 -- Hoval Gateway Maintainers <noreply@github.com>  Sat, 04 Jan 2025 12:00:00 +0000

hoval-gateway (2.5.4) stable; urgency=medium

  * Fix negative outdoor temperature detection (e.g., -0.7°C, -1.1°C)
  * Reduce S16 error code range from 0xFF00-0xFF05 to 0xFF00-0xFF01
  * Allow prefix pattern [00 00 00 FF] for negative temps (sign extension)
  * Add explicit filter for 0xFF02 frame terminator
  * Negative temps like 0xFFF5 (-1.1°C) are now correctly recognized

 -- Hoval Gateway Maintainers <noreply@github.com>  Fri, 03 Jan 2025 14:00:00 +0000

hoval-gateway (2.5.3) stable; urgency=medium

  * Fix outdoor temperature scanner: search backwards from FF02 terminator
  * Pattern: find FF02, then check for [xx 00 00 00] prefix before value
  * Accepts prefix where last 3 bytes are 00 (first byte from previous data)
  * Reliable detection of outdoor temperature in complex frames

 -- Hoval Gateway Maintainers <noreply@github.com>  Fri, 03 Jan 2025 12:00:00 +0000

hoval-gateway (2.5.2) stable; urgency=medium

  * Rewrite outdoor temperature scanner with simplified pattern matching
  * New approach: search for [00 00] [value] [FF 02] pattern in frame
  * More reliable detection: only requires 2 null bytes before value
  * Fixes false negatives when frame contains multiple FF02 terminators

 -- Hoval Gateway Maintainers <noreply@github.com>  Fri, 03 Jan 2025 10:00:00 +0000

hoval-gateway (2.5.1) stable; urgency=medium

  * Fix positive outdoor temperature parsing
  * Protocol uses different markers: 0xFF for negative, 0x00 for positive temps
  * Both negative (-4.3°C) and positive (+2.7°C) outdoor temps now work

 -- Hoval Gateway Maintainers <noreply@github.com>  Thu, 02 Jan 2025 10:00:00 +0000

hoval-gateway (2.5.0) stable; urgency=medium

  * Fix DatapointId=0 (Außentemperatur) parsing
  * Handle special protocol format: 00 00 00 FF [value] for ID=0
  * Negative outdoor temperatures now correctly read (e.g., -4.3°C)

 -- Hoval Gateway Maintainers <noreply@github.com>  Tue, 31 Dec 2024 15:00:00 +0000

hoval-gateway (2.4.3) stable; urgency=medium

  * Mark config.ini as conffile to preserve user changes during upgrades
  * dpkg will now prompt instead of overwriting config.ini

 -- Hoval Gateway Maintainers <noreply@github.com>  Tue, 31 Dec 2024 14:00:00 +0000

hoval-gateway (2.4.2) stable; urgency=medium

  * Filter -25.4°C to -25.6°C error codes (0xFF00-0xFF05)
  * Add -25.5°C to anomaly filter alongside 25.5°C
  * Fixes false readings from error bytes in negative range

 -- Hoval Gateway Maintainers <noreply@github.com>  Tue, 31 Dec 2024 13:00:00 +0000

hoval-gateway (2.4.1) stable; urgency=medium

  * Fix negative temperature filtering bug
  * S16 decoder now correctly handles negative values (e.g., -1.0°C to -12.8°C)
  * Previously, temperatures in this range were incorrectly filtered as error codes

 -- Hoval Gateway Maintainers <noreply@github.com>  Tue, 31 Dec 2024 12:00:00 +0000

hoval-gateway (2.4.0) stable; urgency=medium

  * Add external config.ini configuration file
  * Users no longer need to edit hoval.py directly
  * All settings now in easy-to-edit INI format

 -- Hoval Gateway Maintainers <noreply@github.com>  Sun, 29 Dec 2024 13:00:00 +0000

hoval-gateway (2.3.2) stable; urgency=medium

  * Add MQTT error logging for authentication failures and disconnects
  * Add on_connect and on_disconnect callbacks with detailed error messages

 -- Hoval Gateway Maintainers <noreply@github.com>  Sun, 29 Dec 2024 12:00:00 +0000

hoval-gateway (2.3.1) stable; urgency=medium

  * Fix unbuffered output for systemd logging
  * Add PYTHONUNBUFFERED=1 environment variable
  * Add ruff linting and Dependabot

 -- Hoval Gateway Maintainers <noreply@github.com>  Sat, 28 Dec 2024 22:30:00 +0000

hoval-gateway (2.3.0) stable; urgency=medium

  * Add Debian packaging with GitHub Actions CI/CD
  * Add systemd service with logging to /var/log/hoval-gateway
  * Add log rotation configuration (7 days, compressed)
  * Security hardening via systemd (NoNewPrivileges, ProtectSystem, etc.)
  * Automatic .deb builds on GitHub releases

 -- Hoval Gateway Maintainers <noreply@github.com>  Sat, 28 Dec 2024 12:00:00 +0000
